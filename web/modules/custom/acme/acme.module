<?php
use Drupal\Core\Database\Database;
use Drupal\file\Entity\File;
/**
 * @file
 * Contains acme.module..
 */


/**
 * Implements hook_theme()
 * @return mixed
 */
function acme_theme() {
  $theme['hello_page'] = [
    'variables' => ['name' => NULL],
    'template' => 'hello',
  ];
  $theme['athlete_profile'] = [
    'variables' => ['themeName' => NULL],
    'template' => 'athleteForm',
  ];
  $theme['athlete_form'] = [
    'variables' => ['themeName' => NULL],
    'template' => 'athForm',
  ];

  return $theme;
}

// function acme_preprocess(&$variables){
// $current_user = \Drupal::currentUser()->id();
    // $query = \Drupal::database()->select('user__user_picture', 'n');
    // $query->addField('n', 'user_picture_target_id');
    // $query->condition('entity_id', $current_user,'=');
    // $results = $query->execute()->fetchAssoc();
	// $img_id = $results['user_picture_target_id'];
	// $file = File::load($img_id);
	// if($file != null && $file != ""){
	// $url = $file->url();
	// }
	// $url_pos = strpos($url,"/sites");
	// $url_valid = substr($url,$url_pos);
	// print_r($url_valid);die;
	// $variables['user_img_url'] = $url;
// }

function acme_preprocess_html(&$variables) {  
  $cls = 'edit-profile-class';
    $path = \Drupal::request()->getPathInfo();
  $path_args = explode('/', $path);  
  if (count($path_args) >= 2 && !empty($path_args[3])) {
    if(strtolower($path_args[3])=="edit"){
      $variables['edit_profile_class'] = $cls;
    }
  }
}